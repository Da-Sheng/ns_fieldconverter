{"version":3,"sources":["../src/ImageViewConverter.es6"],"names":["ImageView","state","imgList","imageViewVisible","imageView","setState","imgs","props","images","length","map","node","hideModal","handleModalOk","Component","logger","getLogger","HrefElementConverter","option","getFieldProps","field","fieldOptions","wrapper","obj","dataType","transformImgView","debug"],"mappings":";;;;;;;;AAGA;;;;AACA;;AAGA;;;;;;;;;;+eAPA;;;;;AAMA;;;AAGA;;IAEMA,S;;;;;;;;;;;;;;4LAEJC,K,GAAQ;AACNC,eAAS,EADH,EACQ;AACdC,wBAAkB;AAFZ,K,QAKRC,S,GAAY,YAAM;AAChB,YAAKC,QAAL,CAAc,EAAEF,kBAAkB,IAApB,EAAd;AACA,UAAIG,OAAK,MAAKC,KAAL,CAAWC,MAApB;AACA,UAAIN,gBAAJ;AACA,UAAII,KAAKG,MAAL,GAAY,CAAhB,EAAmB;AACbP,kBAAUI,KAAKI,GAAL,CAAS,UAACC,IAAD,EAAU;AAC3B,iBAAQ,uCAAK,KAAKA,IAAV,GAAR;AACD,SAFS,CAAV;AAGD,OAJL,MAKQ;AACFT,kBAAQ,OAAR;AACD;;AAEL,YAAKG,QAAL,CAAc,EAAEH,SAASA,OAAX,EAAd;AACD,K,QAEDU,S,GAAY,YAAM;AAChB,YAAKP,QAAL,CAAc,EAAEF,kBAAkB,KAApB,EAAd;AACD,K,QAEDU,a,GAAgB,YAAM;AACpB,YAAKR,QAAL,CAAc,EAAEF,kBAAkB,KAApB,EAAd;AACD,K;;;;;6BAEQ;AACP,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAG,MAAK,oBAAR,EAA6B,SAAS,KAAKC,SAA3C;AAAA;AAAA,SADF;AAEE;AAAA;AAAA,YAAO,OAAM,0BAAb,EAAoB,SAAS,KAAKH,KAAL,CAAWE,gBAAxC,EAA0D,MAAM,KAAKU,aAArE;AACE,sBAAU,KAAKD,SADjB;AAEG,eAAKX,KAAL,CAAWC;AAFd;AAFF,OADF;AASD;;;;EAzCqB,gBAAMY,S;;AA4C9B,IAAMC,SAAS,oBAAOC,SAAP,CAAiB,sBAAjB,CAAf;;IAEMC,oB;;;;;;;4BAEIC,M,EAAQ;AAAA,UACPC,aADO,GAC6CD,MAD7C,CACPC,aADO;AAAA,UACQC,KADR,GAC6CF,MAD7C,CACQE,KADR;AAAA,UACeC,YADf,GAC6CH,MAD7C,CACeG,YADf;AAAA,UAC6BC,OAD7B,GAC6CJ,MAD7C,CAC6BI,OAD7B;AAAA,UACsCC,GADtC,GAC6CL,MAD7C,CACsCK,GADtC;;AAEd,cAAQH,MAAMI,QAAd;AACE,aAAK,WAAL;AACE,iBAAO,KAAKC,gBAAL,CAAsBP,MAAtB,CAAP;AAFJ;AAID;;AAED;;;;;;;;qCAKiBA,M,EAAQ;AAAA,UAChBC,aADgB,GACoCD,MADpC,CAChBC,aADgB;AAAA,UACDC,KADC,GACoCF,MADpC,CACDE,KADC;AAAA,UACMC,YADN,GACoCH,MADpC,CACMG,YADN;AAAA,UACoBE,GADpB,GACoCL,MADpC,CACoBK,GADpB;AAAA,UACyBD,OADzB,GACoCJ,MADpC,CACyBI,OADzB;;AAEvBP,aAAOW,KAAP,CAAa,sCAAb,EAAqDN,KAArD;AACA,aAAOE,QACL,8BAAC,SAAD,IAAW,QAAQF,MAAMZ,MAAzB,GADK,EAEJY,KAFI,CAAP;AAGD;;;;;;kBAIYH,oB","file":"ImageViewConverter.js","sourcesContent":["/**\n * Created by zxh on 2016/12/12.\n */\nimport React from 'react';\nimport { Modal } from 'antd';\n\n// import ImageView from '../../components/ImageView';  //查看图片组件\nimport Logger from 'ns_logger';\n\n//图片的查看详情组件\n\nclass ImageView extends React.Component {\n\n  state = {\n    imgList: [],  //显示的图片列表\n    imageViewVisible: false\n  }\n\n  imageView = () => {\n    this.setState({ imageViewVisible: true });\n    let imgs=this.props.images;\n    let imgList;\n    if (imgs.length>0) {\n          imgList = imgs.map((node) => {\n            return (<img src={node} />);\n          });\n        }\n        else{\n          imgList=\"未添加图片\";\n        }\n\n    this.setState({ imgList: imgList });\n  }\n\n  hideModal = () => {\n    this.setState({ imageViewVisible: false });\n  }\n\n  handleModalOk = () => {\n    this.setState({ imageViewVisible: false });\n  }\n\n  render() {\n    return (\n      <div>\n        <a href=\"javascript:void(0)\" onClick={this.imageView}>查看图片</a>\n        <Modal title=\"查看图片\" visible={this.state.imageViewVisible} onOk={this.handleModalOk}\n          onCancel={this.hideModal}>\n          {this.state.imgList}\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst logger = Logger.getLogger('HrefElementConverter');\n\nclass HrefElementConverter {\n\n  convert(option) {\n    const {getFieldProps, field, fieldOptions, wrapper, obj} = option;\n    switch (field.dataType) {\n      case 'imageView':\n        return this.transformImgView(option);\n    }\n  }\n\n  /**\n    * 将schema中的一列转换为下拉框\n    *\n    * @param field\n    */\n  transformImgView(option) {\n    const {getFieldProps, field, fieldOptions, obj, wrapper} = option;\n    logger.debug('transform field %o to datetime input', field);\n    return wrapper((\n      <ImageView images={field.images}/>\n    ), field);\n  }\n\n}\n\nexport default HrefElementConverter;\n"]}